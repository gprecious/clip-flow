{
  "$schema": "../gen/schemas/desktop-schema.json",
  "identifier": "default",
  "description": "Capability for the main window",
  "windows": ["main"],
  "permissions": [
    "core:default",
    "opener:default",
    {
      "identifier": "opener:allow-open-path",
      "allow": [{ "path": "**/*" }]
    },
    {
      "identifier": "opener:allow-open-url",
      "allow": [{ "url": "https://**" }, { "url": "http://**" }]
    },
    "dialog:default",
    "fs:default",
    "shell:default",
    {
      "identifier": "fs:allow-read-text-file",
      "allow": [{ "path": "$APPDATA/**" }, { "path": "$TEMP/**" }]
    },
    {
      "identifier": "fs:allow-write-text-file",
      "allow": [{ "path": "$APPDATA/**" }, { "path": "$TEMP/**" }]
    },
    {
      "identifier": "fs:allow-exists",
      "allow": [{ "path": "$APPDATA/**" }, { "path": "$TEMP/**" }]
    },
    {
      "identifier": "shell:allow-spawn",
      "allow": [
        { "name": "ffmpeg", "cmd": "ffmpeg", "args": true },
        { "name": "ffprobe", "cmd": "ffprobe", "args": true },
        { "name": "whisper-cpp", "cmd": "whisper-cpp", "args": true }
      ]
    }
  ]
}
